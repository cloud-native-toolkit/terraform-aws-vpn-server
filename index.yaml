name: aws-client-vpn
type: terraform
description: Module to provision vpn service on aws
tags:
  - infrastructure
  - networking
  - aws
versions:
  - platforms: []
    providers:
      - name: aws
        source: hashicorp/aws
    dependencies:
      - id: aws-vpc
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc
            version: '>= 1.0.0'
      - id: aws-vpc-subnets
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc-subnets
            version: '>= 1.0.0'
      - id: aws-client-vpn
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpn-server
            version: '>= 1.0.0'
        optional: true
    variables:
      - name: region
        type: string
        description: The deployment region
        default: ''
      - name: subnet_ids
        type: list(string)
        description: >-
          Subnet ID to associate clients (each subnet passed will create an VPN
          association -costs involved)
        default: []
        moduleRef:
          id: aws-vpc-subnets
          output: subnet_ids
      - name: additional_routes
        type: list(string)
        default: []
        description: List of additonal routes to add in VPN
      - name: number_additional_routes
        type: number
        default: '0'
        description: cont of additonal routes to add in VPN
      - name: allowed_cidr_ranges
        type: list(string)
        description: List of CIDR ranges from which access is allowed.
        default: []
      - name: vpc_id
        type: string
        description: VPC Id to create resources
        default: ''
      - name: create_vpn
        type: bool
        default: true
        description: Indicates whether you want to  create vpn
      - name: existing_vpn_id
        type: string
        description: VPC Id to create resources
        default: ''
        moduleRef:
          id: aws-client-vpn
          output: vpn_endpoint_id
      - name: security_group_id
        type: string
        description: >-
          ID of the base security group(SG) to use for the VPN services. If not
          provided a new SG  will be created.
        default: ''
      - name: ingress_rules
        type: |-
          list(object({
                from_port   = number
                to_port     = number
                protocol    = string
                cidr_block  = string
                description = string
              }))
        default: |-
          []
      - name: client_cidr_block
        type: string
        description: client cidr block for vpn
        default: 172.63.0.0/16
      - name: logs_retention
        default: '365'
        description: Retention in days for CloudWatch Log Group
      - name: log_group_name
        type: string
        default: ''
        description: Name for vpn log gruop
      - name: name_vpn
        type: string
        default: ''
        description: Name of resource  VPN to create
      - name: authentication_type
        default: '"certificate-authentication"'
        description: >-
          The type of client authentication to be used. Specify
          certificate-authentication to use certificate-based authentication,
          directory-service-authentication to use Active Directory
          authentication, or federated-authentication to use Federated
          Authentication via SAML 2.0.
      - name: authentication_saml_provider_arn
        default: 'null'
        description: >-
          (Optional) The ARN of the IAM SAML identity provider if type is
          federated-authentication.
      - name: resource_group_name
        type: string
        description: >-
          The name of the resource group where the VPC is deployed. On AWS this
          value becomes a tag.
        default: default
      - name: split_tunnel
        default: 'true'
        description: With split_tunnel false, all client traffic will go through the VPN.
      - name: number_subnets_association
        description: list of subnets to attch with vpn
        type: number
        default: '0'
      - name: dns_servers
        type: list(string)
        default: []
        description: List of DNS Servers.
      - name: name_prefix
        type: string
        description: >-
          Prefix to be added to the names of resources which are being
          provisioned
        default: ''
    version: v1.3.0
    outputs:
      - name: vpn_server
        description: The arn of acm certificate server
      - name: vpn_client
        description: The arn of acm certificate client
      - name: sec_id
      - name: vpn_endpoint_id
  - platforms: []
    providers:
      - name: aws
        source: hashicorp/aws
    dependencies:
      - id: aws-vpc
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc
            version: '>= 1.0.0'
      - id: aws-vpc-subnets
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc-subnets
            version: '>= 1.0.0'
      - id: aws-client-vpn
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpn-server
            version: '>= 1.0.0'
        optional: true
    variables:
      - name: region
        type: string
        description: The deployment region
        default: ''
      - name: subnet_ids
        type: list(string)
        description: >-
          Subnet ID to associate clients (each subnet passed will create an VPN
          association -costs involved)
        default: []
        moduleRef:
          id: aws-vpc-subnets
          output: subnet_ids
      - name: additional_routes
        type: list(string)
        default: []
        description: List of additonal routes to add in VPN
      - name: number_additional_routes
        type: number
        default: '0'
        description: cont of additonal routes to add in VPN
      - name: allowed_cidr_ranges
        type: list(string)
        description: List of CIDR ranges from which access is allowed.
        default: []
      - name: vpc_id
        type: string
        description: VPC Id to create resources
        default: ''
      - name: create_vpn
        type: bool
        default: true
        description: Indicates whether you want to  create vpn
      - name: existing_vpn_id
        type: string
        description: VPC Id to create resources
        default: ''
        moduleRef:
          id: aws-client-vpn
          output: vpn_endpoint_id
      - name: security_group_id
        type: string
        description: >-
          ID of the base security group(SG) to use for the VPN services. If not
          provided a new SG  will be created.
        default: ''
      - name: ingress_rules
        type: |-
          list(object({
                from_port   = number
                to_port     = number
                protocol    = string
                cidr_block  = string
                description = string
              }))
        default: '[]'
      - name: client_cidr_block
        type: string
        description: client cidr block
        default: 172.63.0.0/16
      - name: logs_retention
        default: '365'
        description: Retention in days for CloudWatch Log Group
      - name: log_group_name
        type: string
        default: ''
        description: Name for vpn log gruop
      - name: name_vpn
        type: string
        default: ''
        description: Name of resource  VPN to create
      - name: authentication_type
        default: '"certificate-authentication"'
        description: >-
          The type of client authentication to be used. Specify
          certificate-authentication to use certificate-based authentication,
          directory-service-authentication to use Active Directory
          authentication, or federated-authentication to use Federated
          Authentication via SAML 2.0.
      - name: authentication_saml_provider_arn
        default: 'null'
        description: >-
          (Optional) The ARN of the IAM SAML identity provider if type is
          federated-authentication.
      - name: resource_group_name
        type: string
        description: >-
          The name of the resource group where the VPC is deployed. On AWS this
          value becomes a tag.
        default: default
      - name: split_tunnel
        default: 'true'
        description: With split_tunnel false, all client traffic will go through the VPN.
      - name: number_subnets_association
        description: list of subnets to attch with vpn
        type: number
        default: '0'
      - name: dns_servers
        type: list(string)
        default: []
        description: List of DNS Servers.
      - name: name_prefix
        type: string
        description: >-
          Prefix to be added to the names of resources which are being
          provisioned
        default: ''
    version: v1.2.1
    outputs: []
  - platforms: []
    providers:
      - name: aws
        source: hashicorp/aws
    dependencies:
      - id: aws-vpc
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc
            version: '>= 1.0.0'
      - id: aws-vpc-subnets
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc-subnets
            version: '>= 1.0.0'
      - id: aws-client-vpn
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpn-server
            version: '>= 1.0.0'
        optional: true
    variables:
      - name: region
        type: string
        description: The deployment region
        default: ''
      - name: subnet_ids
        type: list(string)
        description: >-
          Subnet ID to associate clients (each subnet passed will create an VPN
          association -costs involved)
        default: []
        moduleRef:
          id: aws-vpc-subnets
          output: subnet_ids
      - name: additional_routes
        type: list(string)
        default: []
        description: List of additonal routes to add in VPN
      - name: number_additional_routes
        type: number
        default: '0'
        description: cont of additonal routes to add in VPN
      - name: allowed_cidr_ranges
        type: list(string)
        description: List of CIDR ranges from which access is allowed.
        default: []
      - name: vpc_id
        type: string
        description: VPC Id to create resources
        default: ''
      - name: create_vpn
        type: bool
        default: true
        description: Indicates whether you want to  create vpn
      - name: existing_vpn_id
        type: string
        description: VPC Id to create resources
        default: ''
        moduleRef:
          id: aws-client-vpn
          output: vpn_endpoint_id
      - name: security_group_id
        type: string
        description: >-
          ID of the base security group(SG) to use for the VPN services. If not
          provided a new SG  will be created.
        default: ''
      - name: ingress_rules
        type: |-
          list(object({
                from_port   = number
                to_port     = number
                protocol    = string
                cidr_block  = string
                description = string
              }))
        default: |-
          [
                  {
                    from_port   = 22
                    to_port     = 22
                    protocol    = "tcp"
                    cidr_block  = "0.0.0.0/0"
                    description = "ssh"
                  },
                  {
                    from_port   = 80
                    to_port     = 80
                    protocol    = "tcp"
                    cidr_block  = "0.0.0.0/0"
                    description = "web"
                  },
              ]
      - name: client_cidr_block
        type: string
        description: client cidr block
        default: 172.63.0.0/16
      - name: logs_retention
        default: '365'
        description: Retention in days for CloudWatch Log Group
      - name: log_group_name
        type: string
        default: ''
        description: Name for vpn log gruop
      - name: name_vpn
        type: string
        default: ''
        description: Name of resource  VPN to create
      - name: authentication_type
        default: '"certificate-authentication"'
        description: >-
          The type of client authentication to be used. Specify
          certificate-authentication to use certificate-based authentication,
          directory-service-authentication to use Active Directory
          authentication, or federated-authentication to use Federated
          Authentication via SAML 2.0.
      - name: authentication_saml_provider_arn
        default: 'null'
        description: >-
          (Optional) The ARN of the IAM SAML identity provider if type is
          federated-authentication.
      - name: resource_group_name
        type: string
        description: >-
          The name of the resource group where the VPC is deployed. On AWS this
          value becomes a tag.
        default: default
      - name: split_tunnel
        default: 'true'
        description: With split_tunnel false, all client traffic will go through the VPN.
      - name: number_subnets_association
        description: list of subnets to attch with vpn
        type: number
        default: '0'
      - name: dns_servers
        type: list(string)
        default: []
        description: List of DNS Servers.
      - name: name_prefix
        type: string
        description: >-
          Prefix to be added to the names of resources which are being
          provisioned
        default: ''
    version: v1.2.0
    outputs: []
  - platforms: []
    providers:
      - name: aws
        source: hashicorp/aws
    dependencies:
      - id: aws-vpc
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc
            version: '>= 1.0.0'
      - id: aws-vpc-subnets
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc-subnets
            version: '>= 1.0.0'
      - id: aws-client-vpn
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpn-server
            version: '>= 1.0.0'
        optional: true
    variables:
      - name: region
        type: string
        description: The deployment region
        default: ''
      - name: subnet_ids
        type: list(string)
        description: >-
          Subnet ID to associate clients (each subnet passed will create an VPN
          association -costs involved)
        default: []
        moduleRef:
          id: aws-vpc-subnets
          output: subnet_ids
      - name: additional_routes
        type: list(string)
        default: []
        description: List of additonal routes to add in VPN
      - name: number_additional_routes
        type: number
        default: '0'
        description: cont of additonal routes to add in VPN
      - name: allowed_cidr_ranges
        type: list(string)
        description: List of CIDR ranges from which access is allowed
        default: []
      - name: vpc_id
        type: string
        description: VPC Id to create resources
        default: ''
        moduleRef:
          id: aws-vpc
          output: vpc_id
      - name: create_vpn
        type: bool
        default: true
        description: Indicates whether you want to  create vpn
      - name: existing_vpn_id
        type: string
        description: VPC Id to create resources
        default: ''
        moduleRef:
          id: aws-client-vpn
          output: vpn_endpoint_id
      - name: security_group_id
        type: string
        description: Optional security group id to use instead of the default created
        default: ''
      - name: client_cidr_block
        type: string
        description: client cidr block
        default: 172.63.0.0/16
      - name: logs_retention
        default: '365'
        description: Retention in days for CloudWatch Log Group
      - name: name
        type: string
        default: vpn-swe
        description: Name for vpn log gruop
      - name: name_vpn
        type: string
        default: ''
        description: Name of resource  VPN to create
      - name: authentication_type
        default: '"certificate-authentication"'
        description: >-
          The type of client authentication to be used. Specify
          certificate-authentication to use certificate-based authentication,
          directory-service-authentication to use Active Directory
          authentication, or federated-authentication to use Federated
          Authentication via SAML 2.0.
      - name: authentication_saml_provider_arn
        default: 'null'
        description: >-
          (Optional) The ARN of the IAM SAML identity provider if type is
          federated-authentication.
      - name: resource_group_name
        type: string
        description: >-
          The name of the resource group where the VPC is deployed. On AWS this
          value becomes a tag.
        default: default
      - name: split_tunnel
        default: 'true'
        description: With split_tunnel false, all client traffic will go through the VPN.
      - name: number_subnets_association
        description: list of subnets to attch with vpn
        type: number
        default: '0'
      - name: dns_servers
        type: list(string)
        default: []
        description: List of DNS Servers.
      - name: name_prefix
        type: string
        description: >-
          Prefix to be added to the names of resources which are being
          provisioned
        default: ''
    version: v1.1.1
    outputs:
      - name: vpn_server
        description: The arn of acm certificate server
      - name: vpn_client
        description: The arn of acm certificate client
      - name: sec_id
      - name: vpn_endpoint_id
  - platforms: []
    providers:
      - name: aws
        source: hashicorp/aws
    dependencies:
      - id: aws-vpc
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc
            version: '>= 1.0.0'
      - id: aws-vpc-subnets
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc-subnets
            version: '>= 1.0.0'
    variables:
      - name: region
        type: string
        description: The deployment region
        default: ''
      - name: subnet_ids
        type: list(string)
        description: >-
          Subnet ID to associate clients (each subnet passed will create an VPN
          association -costs involved)
        default: []
        moduleRef:
          id: aws-vpc-subnets
          output: subnet_ids
      - name: additional_routes
        type: list(string)
        default: []
        description: List of additonal routes to add in VPN
      - name: number_additional_routes
        type: number
        default: '0'
        description: cont of additonal routes to add in VPN
      - name: allowed_cidr_ranges
        type: list(string)
        description: List of CIDR ranges from which access is allowed
        default: []
      - name: vpc_id
        type: string
        description: VPC Id to create resources
        default: ''
      - name: create_vpn
        type: bool
        default: true
        description: Indicates whether you want to  create vpn
      - name: existing_vpn_id
        type: string
        description: VPC Id to create resources
        default: ''
      - name: security_group_id
        type: string
        description: Optional security group id to use instead of the default created
        default: ''
      - name: client_cidr_block
        type: string
        description: client cidr block
        default: 172.63.0.0/16
      - name: logs_retention
        default: '365'
        description: Retention in days for CloudWatch Log Group
      - name: name
        type: string
        default: vpn-swe
        description: Name for vpn log gruop
      - name: name_vpn
        type: string
        default: ''
        description: Name of resource  VPN to create
      - name: authentication_type
        default: '"certificate-authentication"'
        description: >-
          The type of client authentication to be used. Specify
          certificate-authentication to use certificate-based authentication,
          directory-service-authentication to use Active Directory
          authentication, or federated-authentication to use Federated
          Authentication via SAML 2.0.
      - name: authentication_saml_provider_arn
        default: 'null'
        description: >-
          (Optional) The ARN of the IAM SAML identity provider if type is
          federated-authentication.
      - name: resource_group_name
        type: string
        description: >-
          The name of the resource group where the VPC is deployed. On AWS this
          value becomes a tag.
        default: default
      - name: split_tunnel
        default: 'true'
        description: With split_tunnel false, all client traffic will go through the VPN.
      - name: number_subnets_association
        description: list of subnets to attch with vpn
        type: number
        default: '0'
      - name: dns_servers
        type: list(string)
        default: []
        description: List of DNS Servers.
      - name: name_prefix
        type: string
        description: >-
          Prefix to be added to the names of resources which are being
          provisioned
        default: ''
    version: v1.1.0
    outputs:
      - name: vpn_server
        description: The arn of acm certificate server
      - name: vpn_client
        description: The arn of acm certificate client
      - name: sec_id
      - name: vpn_endpoint_id
  - platforms: []
    providers:
      - name: aws
        source: hashicorp/aws
    dependencies:
      - id: aws-vpc
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc
            version: '>= 1.0.0'
      - id: aws-vpc-subnets
        refs:
          - source: github.com/cloud-native-toolkit/terraform-aws-vpc-subnets
            version: '>= 1.0.0'
    variables:
      - name: region
        type: string
        description: The deployment region
        default: ap-south-1
      - name: subnet_ids
        type: list(string)
        description: >-
          Subnet ID to associate clients (each subnet passed will create an VPN
          association - costs involved)
        default: []
        moduleRef:
          id: aws-vpc-subnets
          output: subnet_ids
      - name: route_subnet_ids
        type: list(string)
        description: >-
          Subnet ID to associate additonal route for clients (each subnet passed
          will create a VPN route )
        default: []
      - name: additional_routes
        type: list(string)
        description: >-
          Subnet ID to associate additonal route for clients (each subnet passed
          will create a VPN route )
        default: []
      - name: allowed_cidr_ranges
        type: list(string)
        description: List of CIDR ranges from which access is allowed
        default: []
      - name: vpc_id
        type: string
        description: VPC Id to create resources
        default: ''
      - name: security_group_id
        type: string
        description: Optional security group id to use instead of the default created
        default: ''
      - name: client_cidr_block
        type: string
        description: client cidr block
        default: 172.63.0.0/16
      - name: logs_retention
        default: '365'
        description: Retention in days for CloudWatch Log Group
      - name: name
        type: string
        default: vpn-swe
        description: Name for vpn log gruop
      - name: name_vpn
        type: string
        default: ''
        description: Name of resource  VPN to create
      - name: authentication_type
        default: '"certificate-authentication"'
        description: >-
          The type of client authentication to be used. Specify
          certificate-authentication to use certificate-based authentication,
          directory-service-authentication to use Active Directory
          authentication, or federated-authentication to use Federated
          Authentication via SAML 2.0.
      - name: authentication_saml_provider_arn
        default: 'null'
        description: >-
          (Optional) The ARN of the IAM SAML identity provider if type is
          federated-authentication.
      - name: resource_group_name
        type: string
        description: >-
          The name of the resource group where the VPC is deployed. On AWS this
          value becomes a tag.
        default: default
      - name: split_tunnel
        default: 'true'
        description: With split_tunnel false, all client traffic will go through the VPN.
      - name: number_subnets_vpn
        description: list if subnets to attch with vpn
        type: number
        default: '0'
      - name: dns_servers
        type: list(string)
        default: []
        description: List of DNS Servers.
      - name: name_prefix
        type: string
        description: >-
          Prefix to be added to the names of resources which are being
          provisioned
        default: ''
    version: v1.0.1
    outputs:
      - name: vpn_server
        description: The arn of acm certificate server
      - name: vpn_client
        description: The arn of acm certificate client
      - name: sec_id
      - name: vpn_endpoint_id
cloudProvider: aws
id: github.com/cloud-native-toolkit/terraform-aws-vpn-server
